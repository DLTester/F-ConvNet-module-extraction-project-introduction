
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Frustum-based 3D Detection Module Library with Custom PyTorch Operators">
      
      
      
      
        <link rel="prev" href="../stage3_sequence_feature/">
      
      
        <link rel="next" href="../framework_overview/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Stage 4 â€” Frustum FCN Processing - F-ConvNet Module Extraction</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stage-4-frustum-fcn-processing" class="md-skip">
          è·³è½¬è‡³
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
    <a href=".." title="F-ConvNet Module Extraction" class="md-header__button md-logo" aria-label="F-ConvNet Module Extraction" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            F-ConvNet Module Extraction
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stage 4 â€” Frustum FCN Processing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="æœç´¢" placeholder="æœç´¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="æŸ¥æ‰¾">
        
        <button type="reset" class="md-search__icon md-icon" title="æ¸…ç©ºå½“å‰å†…å®¹" aria-label="æ¸…ç©ºå½“å‰å†…å®¹" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="å¯¼èˆªæ " data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="F-ConvNet Module Extraction" class="md-nav__button md-logo" aria-label="F-ConvNet Module Extraction" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    F-ConvNet Module Extraction
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ä¸»é¡µ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../stage1_frustum_generation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stage 1 â€” Frustum Generation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../stage2_pointnet_encoding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stage 2 â€” PointNet Encoding
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../stage3_sequence_feature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stage 3 â€” Sequence Feature Construction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Stage 4 â€” Frustum FCN Processing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Stage 4 â€” Frustum FCN Processing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ç›®å½•">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-frustumconvblock" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Œ 1. FrustumConvBlock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock" class="md-nav__link">
    <span class="md-ellipsis">
      FrustumConvBlock
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock" class="md-nav__link">
    <span class="md-ellipsis">
      FrustumConvBlock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FrustumConvBlock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_1" class="md-nav__link">
    <span class="md-ellipsis">
      ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_2" class="md-nav__link">
    <span class="md-ellipsis">
      è¾“å…¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_3" class="md-nav__link">
    <span class="md-ellipsis">
      è¾“å‡º
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ¨¡å—ç”¨é€”
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock.forward" class="md-nav__link">
    <span class="md-ellipsis">
      forward
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-frustumdeconv" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Œ 2. FrustumDeconv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv" class="md-nav__link">
    <span class="md-ellipsis">
      FrustumDeconv
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv" class="md-nav__link">
    <span class="md-ellipsis">
      FrustumDeconv
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FrustumDeconv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_1" class="md-nav__link">
    <span class="md-ellipsis">
      ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_2" class="md-nav__link">
    <span class="md-ellipsis">
      è¾“å…¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_3" class="md-nav__link">
    <span class="md-ellipsis">
      è¾“å‡º
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_4" class="md-nav__link">
    <span class="md-ellipsis">
      æ¨¡å—ç”¨é€”
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv.forward" class="md-nav__link">
    <span class="md-ellipsis">
      forward
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-channelreduce1x1" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Œ 3. ChannelReduce1x1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.ChannelReduce1x1" class="md-nav__link">
    <span class="md-ellipsis">
      ChannelReduce1x1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.ChannelReduce1x1.ChannelReduce1x1" class="md-nav__link">
    <span class="md-ellipsis">
      ChannelReduce1x1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ChannelReduce1x1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.network.ChannelReduce1x1.ChannelReduce1x1.forward" class="md-nav__link">
    <span class="md-ellipsis">
      forward
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-align_and_concat_multiscale" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Œ 4. align_and_concat_multiscale
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.operator.align_and_concat_multiscale" class="md-nav__link">
    <span class="md-ellipsis">
      align_and_concat_multiscale
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Frustum_FCN_Processing.operator.align_and_concat_multiscale.align_and_concat_multiscale" class="md-nav__link">
    <span class="md-ellipsis">
      align_and_concat_multiscale
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      â–¶ ä¸‹ä¸€éƒ¨åˆ†
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../framework_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    F-ConvNet æ€»æ¡†æ¶
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="stage-4-frustum-fcn-processing">Stage 4 â€” Frustum FCN Processing<a class="headerlink" href="#stage-4-frustum-fcn-processing" title="Permanent link">&para;</a></h1>
<p>æœ¬é˜¶æ®µä½¿ç”¨å¤šå°ºåº¦ 1D/2D ç±» FCN ç»“æ„å¯¹åºåˆ—ç‰¹å¾è¿›è¡Œè¿›ä¸€æ­¥ç¼–ç ã€<br />
ä¸‹é‡‡æ ·ã€ä¸Šé‡‡æ ·ä¸è·¨å°ºåº¦èåˆï¼Œæœ€ç»ˆè¾“å‡ºç”¨äº 3D æ£€æµ‹ä»»åŠ¡çš„é«˜å±‚èåˆç‰¹å¾ã€‚</p>
<hr />
<h2 id="1-frustumconvblock">ğŸ“Œ 1. FrustumConvBlock<a class="headerlink" href="#1-frustumconvblock" title="Permanent link">&para;</a></h2>
<p>ç”¨äºåºåˆ—ç‰¹å¾çš„å·ç§¯ç¼–ç æ¨¡å—ï¼Œå¯é€‰ä¸‹é‡‡æ ·ã€‚</p>


<div class="doc doc-object doc-module">



<a id="Frustum_FCN_Processing.network.FrustumConvBlock"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock" class="doc doc-heading">
            <code>FrustumConvBlock</code>


<a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>


        <p>FrustumConvBlock æ¨¡å—ï¼ˆF-ConvNet FCN é˜¶æ®µçš„ 1D å·ç§¯åŸºç¡€å—ï¼‰ã€‚</p>
<p>è¯¥æ¨¡å—åœ¨ã€Œfrustum åºåˆ—ã€ç»´åº¦ä¸Šæ‰§è¡Œä¸€ç»´å·ç§¯ï¼Œç”¨äºèšåˆç›¸é‚» frustum
çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å…¶æœ¬è´¨æ˜¯ç”±ä¸¤å±‚ <code>Conv1d + BN + ReLU</code> ç»„æˆçš„å·ç§¯å—ï¼Œ
æ”¯æŒå¯é€‰çš„ stride=2 ä¸‹é‡‡æ ·ï¼Œç”¨äºé€æ­¥å‹ç¼© frustum åºåˆ—é•¿åº¦å¹¶æ‰©å¤§æ„Ÿå—é‡ã€‚</p>
<p>æœ¬æ¨¡å—å±äº <strong>å¯å­¦ä¹ ç®—å­</strong>ï¼Œå…¶å·ç§¯æ ¸å‚æ•°åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ ¹æ®ç›‘ç£ä¿¡å·æ›´æ–°ã€‚
é€šå¸¸ç”¨äºæ„å»º F-ConvNet ä¸­çš„ FCN ä¸»å¹²ç½‘ç»œï¼ˆç±»ä¼¼ det_base.ConvFeatNet
é‡Œçš„ block2_convã€block3_convã€block4_conv ç»“æ„ï¼‰ã€‚:contentReference[oaicite:2]{index=2}</p>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_1">ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_1" title="Permanent link">&para;</a></h5>
<ol>
<li><strong>Conv1d C_in â†’ C_mid, kernel=3, stride=1, padding=1</strong></li>
<li>åœ¨ frustum åºåˆ—ä¸Šæå–å±€éƒ¨ä¸Šä¸‹æ–‡ç‰¹å¾ã€‚</li>
<li><strong>BatchNorm1d + ReLU</strong></li>
<li><strong>Conv1d C_mid â†’ C_out, kernel=3, stride=1 æˆ– 2, padding=1</strong></li>
<li>è‹¥ downsample=Trueï¼Œåˆ™ stride=2ï¼Œå®ç°åºåˆ—ä¸‹é‡‡æ ·ã€‚</li>
<li>å¦åˆ™ä¿æŒé•¿åº¦ä¸å˜ï¼Œä»…åšç‰¹å¾å¢å¼ºã€‚</li>
<li><strong>BatchNorm1d + ReLU</strong></li>
</ol>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_2">è¾“å…¥<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_2" title="Permanent link">&para;</a></h5>
<p>Args:
    x (torch.Tensor):
        Frustum åºåˆ—ç‰¹å¾ï¼Œshape ä¸º <strong>(B, C_in, L)</strong>ï¼š
        - Bï¼šbatch size
        - C_inï¼šè¾“å…¥é€šé“æ•°ï¼ˆä¾‹å¦‚ 128/256 ç­‰ï¼‰
        - Lï¼šfrustum åºåˆ—é•¿åº¦ï¼ˆæ²¿æ·±åº¦æ–¹å‘çš„ frustum æ•°é‡ï¼‰</p>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_3">è¾“å‡º<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_3" title="Permanent link">&para;</a></h5>
<p>Returns:
    torch.Tensor:
        ç»è¿‡ä¸¤å±‚ Conv1d å¤„ç†åçš„ç‰¹å¾ï¼Œshape ä¸º <strong>(B, C_out, L')</strong>ï¼š
        - C_outï¼šè¾“å‡ºé€šé“æ•°
        - L'ï¼šè¾“å‡ºåºåˆ—é•¿åº¦ï¼ˆè‹¥ downsample=Trueï¼Œåˆ™çº¦ä¸º L/2ï¼‰</p>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_4">æ¨¡å—ç”¨é€”<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock--_4" title="Permanent link">&para;</a></h5>
<ul>
<li>åœ¨ frustum ç»´åº¦ä¸Šåš 1D å·ç§¯ï¼Œå»ºæ¨¡ç›¸é‚» frustum çš„ä¸Šä¸‹æ–‡å…³ç³»</li>
<li>é€šè¿‡ stride=2 å®ç°é€æ­¥ä¸‹é‡‡æ ·ï¼Œé…åˆ DeConv å½¢æˆ U-Net/FPN å¼ç»“æ„</li>
<li>æ˜¯ F-ConvNet FCN é˜¶æ®µçš„åŸºç¡€æ„å»ºå•å…ƒï¼Œå¯å †å å½¢æˆå¤šå±‚å¤šå°ºåº¦è¡¨ç¤º</li>
</ul>

              <details class="quote">
                <summary>Source code in <code>Frustum_FCN_Processing\network\FrustumConvBlock.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FrustumConvBlock</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    FrustumConvBlock æ¨¡å—ï¼ˆF-ConvNet FCN é˜¶æ®µçš„ 1D å·ç§¯åŸºç¡€å—ï¼‰ã€‚</span>

<span class="sd">    è¯¥æ¨¡å—åœ¨ã€Œfrustum åºåˆ—ã€ç»´åº¦ä¸Šæ‰§è¡Œä¸€ç»´å·ç§¯ï¼Œç”¨äºèšåˆç›¸é‚» frustum</span>
<span class="sd">    çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å…¶æœ¬è´¨æ˜¯ç”±ä¸¤å±‚ `Conv1d + BN + ReLU` ç»„æˆçš„å·ç§¯å—ï¼Œ</span>
<span class="sd">    æ”¯æŒå¯é€‰çš„ stride=2 ä¸‹é‡‡æ ·ï¼Œç”¨äºé€æ­¥å‹ç¼© frustum åºåˆ—é•¿åº¦å¹¶æ‰©å¤§æ„Ÿå—é‡ã€‚</span>

<span class="sd">    æœ¬æ¨¡å—å±äº **å¯å­¦ä¹ ç®—å­**ï¼Œå…¶å·ç§¯æ ¸å‚æ•°åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ ¹æ®ç›‘ç£ä¿¡å·æ›´æ–°ã€‚</span>
<span class="sd">    é€šå¸¸ç”¨äºæ„å»º F-ConvNet ä¸­çš„ FCN ä¸»å¹²ç½‘ç»œï¼ˆç±»ä¼¼ det_base.ConvFeatNet</span>
<span class="sd">    é‡Œçš„ block2_convã€block3_convã€block4_conv ç»“æ„ï¼‰ã€‚:contentReference[oaicite:2]{index=2}</span>

<span class="sd">    ---</span>
<span class="sd">    ### ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰</span>
<span class="sd">    1. **Conv1d C_in â†’ C_mid, kernel=3, stride=1, padding=1**</span>
<span class="sd">       - åœ¨ frustum åºåˆ—ä¸Šæå–å±€éƒ¨ä¸Šä¸‹æ–‡ç‰¹å¾ã€‚</span>
<span class="sd">    2. **BatchNorm1d + ReLU**</span>
<span class="sd">    3. **Conv1d C_mid â†’ C_out, kernel=3, stride=1 æˆ– 2, padding=1**</span>
<span class="sd">       - è‹¥ downsample=Trueï¼Œåˆ™ stride=2ï¼Œå®ç°åºåˆ—ä¸‹é‡‡æ ·ã€‚</span>
<span class="sd">       - å¦åˆ™ä¿æŒé•¿åº¦ä¸å˜ï¼Œä»…åšç‰¹å¾å¢å¼ºã€‚</span>
<span class="sd">    4. **BatchNorm1d + ReLU**</span>

<span class="sd">    ---</span>
<span class="sd">    ### è¾“å…¥</span>
<span class="sd">    Args:</span>
<span class="sd">        x (torch.Tensor):</span>
<span class="sd">            Frustum åºåˆ—ç‰¹å¾ï¼Œshape ä¸º **(B, C_in, L)**ï¼š</span>
<span class="sd">            - Bï¼šbatch size</span>
<span class="sd">            - C_inï¼šè¾“å…¥é€šé“æ•°ï¼ˆä¾‹å¦‚ 128/256 ç­‰ï¼‰</span>
<span class="sd">            - Lï¼šfrustum åºåˆ—é•¿åº¦ï¼ˆæ²¿æ·±åº¦æ–¹å‘çš„ frustum æ•°é‡ï¼‰</span>

<span class="sd">    ---</span>
<span class="sd">    ### è¾“å‡º</span>
<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor:</span>
<span class="sd">            ç»è¿‡ä¸¤å±‚ Conv1d å¤„ç†åçš„ç‰¹å¾ï¼Œshape ä¸º **(B, C_out, L&#39;)**ï¼š</span>
<span class="sd">            - C_outï¼šè¾“å‡ºé€šé“æ•°</span>
<span class="sd">            - L&#39;ï¼šè¾“å‡ºåºåˆ—é•¿åº¦ï¼ˆè‹¥ downsample=Trueï¼Œåˆ™çº¦ä¸º L/2ï¼‰</span>

<span class="sd">    ---</span>
<span class="sd">    ### æ¨¡å—ç”¨é€”</span>
<span class="sd">    - åœ¨ frustum ç»´åº¦ä¸Šåš 1D å·ç§¯ï¼Œå»ºæ¨¡ç›¸é‚» frustum çš„ä¸Šä¸‹æ–‡å…³ç³»</span>
<span class="sd">    - é€šè¿‡ stride=2 å®ç°é€æ­¥ä¸‹é‡‡æ ·ï¼Œé…åˆ DeConv å½¢æˆ U-Net/FPN å¼ç»“æ„</span>
<span class="sd">    - æ˜¯ F-ConvNet FCN é˜¶æ®µçš„åŸºç¡€æ„å»ºå•å…ƒï¼Œå¯å †å å½¢æˆå¤šå±‚å¤šå°ºåº¦è¡¨ç¤º</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">in_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">out_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">mid_channels</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">downsample</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">mid_channels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mid_channels</span> <span class="o">=</span> <span class="n">out_channels</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">downsample</span> <span class="o">=</span> <span class="n">downsample</span>
        <span class="n">stride2</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">downsample</span> <span class="k">else</span> <span class="mi">1</span>

        <span class="c1"># ç¬¬ä¸€å±‚å·ç§¯ï¼šC_in â†’ C_midï¼Œä¿æŒé•¿åº¦ä¸å˜</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Conv1d</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">mid_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bn1</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">BatchNorm1d</span><span class="p">(</span><span class="n">mid_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relu1</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># ç¬¬äºŒå±‚å·ç§¯ï¼šC_mid â†’ C_outï¼Œå¯é€‰ä¸‹é‡‡æ ·</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Conv1d</span><span class="p">(</span><span class="n">mid_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="n">stride2</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bn2</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">BatchNorm1d</span><span class="p">(</span><span class="n">out_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relu2</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å‰å‘ä¼ æ’­ï¼šåœ¨ frustum åºåˆ—ç»´åº¦ä¸Šæ‰§è¡Œä¸¤å±‚ 1D å·ç§¯ã€‚</span>

<span class="sd">        Args:</span>
<span class="sd">            x (torch.Tensor):</span>
<span class="sd">                è¾“å…¥ç‰¹å¾ (B, C_in, L)ã€‚</span>

<span class="sd">        Returns:</span>
<span class="sd">            torch.Tensor:</span>
<span class="sd">                è¾“å‡ºç‰¹å¾ (B, C_out, L&#39;)ã€‚</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Conv1d + BN + ReLU</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bn1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relu1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="c1"># Conv1d(+stride) + BN + ReLU</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bn2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relu2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">x</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

<a href="#Frustum_FCN_Processing.network.FrustumConvBlock.FrustumConvBlock.forward" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>å‰å‘ä¼ æ’­ï¼šåœ¨ frustum åºåˆ—ç»´åº¦ä¸Šæ‰§è¡Œä¸¤å±‚ 1D å·ç§¯ã€‚</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>è¾“å…¥ç‰¹å¾ (B, C_in, L)ã€‚</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor:
è¾“å‡ºç‰¹å¾ (B, C_out, L')ã€‚</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>Frustum_FCN_Processing\network\FrustumConvBlock.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å‰å‘ä¼ æ’­ï¼šåœ¨ frustum åºåˆ—ç»´åº¦ä¸Šæ‰§è¡Œä¸¤å±‚ 1D å·ç§¯ã€‚</span>

<span class="sd">    Args:</span>
<span class="sd">        x (torch.Tensor):</span>
<span class="sd">            è¾“å…¥ç‰¹å¾ (B, C_in, L)ã€‚</span>

<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor:</span>
<span class="sd">            è¾“å‡ºç‰¹å¾ (B, C_out, L&#39;)ã€‚</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Conv1d + BN + ReLU</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bn1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relu1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="c1"># Conv1d(+stride) + BN + ReLU</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bn2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relu2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">x</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><hr />
<h2 id="2-frustumdeconv">ğŸ“Œ 2. FrustumDeconv<a class="headerlink" href="#2-frustumdeconv" title="Permanent link">&para;</a></h2>
<p>ç”¨äºè·¨å°ºåº¦ä¸Šé‡‡æ ·ï¼ˆdeconvolution / upsampleï¼‰çš„åå·ç§¯æ¨¡å—ã€‚</p>


<div class="doc doc-object doc-module">



<a id="Frustum_FCN_Processing.network.FrustumDeconv"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv" class="doc doc-heading">
            <code>FrustumDeconv</code>


<a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>


        <p>FrustumDeconv æ¨¡å—ï¼ˆF-ConvNet FCN é˜¶æ®µçš„ 1D åå·ç§¯ä¸Šé‡‡æ ·å—ï¼‰ã€‚</p>
<p>è¯¥æ¨¡å—åœ¨ frustum åºåˆ—ç»´åº¦ä¸Šæ‰§è¡Œä¸€ç»´åå·ç§¯ï¼ˆConvTranspose1dï¼‰ï¼Œ
ç”¨äºå°†ä½åˆ†è¾¨ç‡çš„ frustum åºåˆ—ç‰¹å¾ä¸Šé‡‡æ ·åˆ°æ›´é«˜åˆ†è¾¨ç‡ã€‚
å±äº FCNï¼ˆFully Convolutional Networkï¼‰ç»“æ„çš„â€œè§£ç å™¨â€éƒ¨åˆ†ï¼Œ
å¸¸ä¸ FrustumConvBlockï¼ˆç®—å­ 9ï¼‰ä¸€èµ·æ„æˆ U-Net/FPN å¼å¤šå°ºåº¦ç»“æ„ã€‚</p>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_1">ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_1" title="Permanent link">&para;</a></h5>
<ol>
<li><strong>ConvTranspose1d C_in â†’ C_out</strong></li>
<li>kernel_size: æ§åˆ¶ä¸Šé‡‡æ ·å€ç‡ï¼ˆå¦‚ 1/2/4ï¼‰</li>
<li>stride: é€šå¸¸ä¸ kernel_size ç›¸åŒ</li>
<li>padding/è¾“å‡ºé•¿åº¦ä¸¥æ ¼å¯¹é½ F-ConvNet éœ€æ±‚</li>
<li><strong>BatchNorm1d</strong></li>
<li><strong>ReLU æ¿€æ´»</strong></li>
</ol>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_2">è¾“å…¥<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_2" title="Permanent link">&para;</a></h5>
<p>Args:
    x (torch.Tensor):
        åºåˆ—ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_in, L_low)ï¼š
        - B: batch size
        - C_in: è¾“å…¥é€šé“æ•°
        - L_low: ä½åˆ†è¾¨ç‡ frustum åºåˆ—é•¿åº¦</p>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_3">è¾“å‡º<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_3" title="Permanent link">&para;</a></h5>
<p>Returns:
    torch.Tensor:
        ä¸Šé‡‡æ ·åçš„ç‰¹å¾ (B, C_out, L_high)
        - C_out: è¾“å‡ºé€šé“æ•°
        - L_high: ä¸Šé‡‡æ ·åçš„åºåˆ—é•¿åº¦
          ï¼ˆå–å†³äº kernel_size ä¸ strideï¼‰</p>
<hr />
<h5 id="Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_4">æ¨¡å—ç”¨é€”<a class="headerlink" href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv--_4" title="Permanent link">&para;</a></h5>
<ul>
<li>å°†æ·±å±‚ï¼ˆä½åˆ†è¾¨ç‡ï¼‰frustum ç‰¹å¾ä¸Šé‡‡æ ·</li>
<li>ç”¨äº F-ConvNet FCN çš„å¤šå°ºåº¦èåˆé˜¶æ®µï¼ˆå¯¹åº” block2/3/4 çš„ DeConvï¼‰:contentReference[oaicite:2]{index=2}</li>
<li>ä¸å¤šå°ºåº¦ concatï¼ˆç®—å­ 11ï¼‰é…åˆæ„æˆ frustum æ–¹å‘çš„ç‰¹å¾é‡‘å­—å¡”</li>
</ul>

              <details class="quote">
                <summary>Source code in <code>Frustum_FCN_Processing\network\FrustumDeconv.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FrustumDeconv</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    FrustumDeconv æ¨¡å—ï¼ˆF-ConvNet FCN é˜¶æ®µçš„ 1D åå·ç§¯ä¸Šé‡‡æ ·å—ï¼‰ã€‚</span>

<span class="sd">    è¯¥æ¨¡å—åœ¨ frustum åºåˆ—ç»´åº¦ä¸Šæ‰§è¡Œä¸€ç»´åå·ç§¯ï¼ˆConvTranspose1dï¼‰ï¼Œ</span>
<span class="sd">    ç”¨äºå°†ä½åˆ†è¾¨ç‡çš„ frustum åºåˆ—ç‰¹å¾ä¸Šé‡‡æ ·åˆ°æ›´é«˜åˆ†è¾¨ç‡ã€‚</span>
<span class="sd">    å±äº FCNï¼ˆFully Convolutional Networkï¼‰ç»“æ„çš„â€œè§£ç å™¨â€éƒ¨åˆ†ï¼Œ</span>
<span class="sd">    å¸¸ä¸ FrustumConvBlockï¼ˆç®—å­ 9ï¼‰ä¸€èµ·æ„æˆ U-Net/FPN å¼å¤šå°ºåº¦ç»“æ„ã€‚</span>

<span class="sd">    ---</span>
<span class="sd">    ### ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰</span>
<span class="sd">    1. **ConvTranspose1d C_in â†’ C_out**</span>
<span class="sd">       - kernel_size: æ§åˆ¶ä¸Šé‡‡æ ·å€ç‡ï¼ˆå¦‚ 1/2/4ï¼‰</span>
<span class="sd">       - stride: é€šå¸¸ä¸ kernel_size ç›¸åŒ</span>
<span class="sd">       - padding/è¾“å‡ºé•¿åº¦ä¸¥æ ¼å¯¹é½ F-ConvNet éœ€æ±‚</span>
<span class="sd">    2. **BatchNorm1d**</span>
<span class="sd">    3. **ReLU æ¿€æ´»**</span>

<span class="sd">    ---</span>
<span class="sd">    ### è¾“å…¥</span>
<span class="sd">    Args:</span>
<span class="sd">        x (torch.Tensor):</span>
<span class="sd">            åºåˆ—ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_in, L_low)ï¼š</span>
<span class="sd">            - B: batch size</span>
<span class="sd">            - C_in: è¾“å…¥é€šé“æ•°</span>
<span class="sd">            - L_low: ä½åˆ†è¾¨ç‡ frustum åºåˆ—é•¿åº¦</span>

<span class="sd">    ---</span>
<span class="sd">    ### è¾“å‡º</span>
<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor:</span>
<span class="sd">            ä¸Šé‡‡æ ·åçš„ç‰¹å¾ (B, C_out, L_high)</span>
<span class="sd">            - C_out: è¾“å‡ºé€šé“æ•°</span>
<span class="sd">            - L_high: ä¸Šé‡‡æ ·åçš„åºåˆ—é•¿åº¦</span>
<span class="sd">              ï¼ˆå–å†³äº kernel_size ä¸ strideï¼‰</span>

<span class="sd">    ---</span>
<span class="sd">    ### æ¨¡å—ç”¨é€”</span>
<span class="sd">    - å°†æ·±å±‚ï¼ˆä½åˆ†è¾¨ç‡ï¼‰frustum ç‰¹å¾ä¸Šé‡‡æ ·</span>
<span class="sd">    - ç”¨äº F-ConvNet FCN çš„å¤šå°ºåº¦èåˆé˜¶æ®µï¼ˆå¯¹åº” block2/3/4 çš„ DeConvï¼‰:contentReference[oaicite:2]{index=2}</span>
<span class="sd">    - ä¸å¤šå°ºåº¦ concatï¼ˆç®—å­ 11ï¼‰é…åˆæ„æˆ frustum æ–¹å‘çš„ç‰¹å¾é‡‘å­—å¡”</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">in_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">out_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">kernel_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">stride</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># DeConv1d: 1D åå·ç§¯ï¼Œä¸Šé‡‡æ ·æ ¸å¿ƒæ“ä½œ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deconv</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">ConvTranspose1d</span><span class="p">(</span>
            <span class="n">in_channels</span><span class="p">,</span>
            <span class="n">out_channels</span><span class="p">,</span>
            <span class="n">kernel_size</span><span class="o">=</span><span class="n">kernel_size</span><span class="p">,</span>
            <span class="n">stride</span><span class="o">=</span><span class="n">stride</span><span class="p">,</span>
            <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bn</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">BatchNorm1d</span><span class="p">(</span><span class="n">out_channels</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relu</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å‰å‘ä¼ æ’­ï¼šå¯¹ frustum åºåˆ—æ‰§è¡Œ 1D åå·ç§¯ä¸Šé‡‡æ ·ã€‚</span>

<span class="sd">        Args:</span>
<span class="sd">            x (torch.Tensor): (B, C_in, L_low)</span>

<span class="sd">        Returns:</span>
<span class="sd">            torch.Tensor: (B, C_out, L_high)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deconv</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># ä¸Šé‡‡æ ·</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bn</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

<a href="#Frustum_FCN_Processing.network.FrustumDeconv.FrustumDeconv.forward" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>å‰å‘ä¼ æ’­ï¼šå¯¹ frustum åºåˆ—æ‰§è¡Œ 1D åå·ç§¯ä¸Šé‡‡æ ·ã€‚</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(B, C_in, L_low)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: (B, C_out, L_high)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>Frustum_FCN_Processing\network\FrustumDeconv.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å‰å‘ä¼ æ’­ï¼šå¯¹ frustum åºåˆ—æ‰§è¡Œ 1D åå·ç§¯ä¸Šé‡‡æ ·ã€‚</span>

<span class="sd">    Args:</span>
<span class="sd">        x (torch.Tensor): (B, C_in, L_low)</span>

<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor: (B, C_out, L_high)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deconv</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="c1"># ä¸Šé‡‡æ ·</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bn</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><hr />
<h2 id="3-channelreduce1x1">ğŸ“Œ 3. ChannelReduce1x1<a class="headerlink" href="#3-channelreduce1x1" title="Permanent link">&para;</a></h2>
<p>ç”¨äºèåˆåçš„å¤šå°ºåº¦ç‰¹å¾é€šé“å‹ç¼©ï¼ˆ1Ã—1 å·ç§¯ + BN + ReLUï¼‰ã€‚</p>


<div class="doc doc-object doc-module">



<a id="Frustum_FCN_Processing.network.ChannelReduce1x1"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="Frustum_FCN_Processing.network.ChannelReduce1x1.ChannelReduce1x1" class="doc doc-heading">
            <code>ChannelReduce1x1</code>


<a href="#Frustum_FCN_Processing.network.ChannelReduce1x1.ChannelReduce1x1" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>


        <p>ChannelReduce1x1 æ¨¡å—ï¼ˆFrustum å¤šå°ºåº¦ç‰¹å¾é€šé“å‹ç¼©ç®—å­ï¼‰ã€‚</p>
<p>è¯¥æ¨¡å—é€šè¿‡ 1Ã—1 çš„ Conv1d å®ç°é€šé“ç»´åº¦çš„çº¿æ€§æ˜ å°„ï¼Œç”¨äºåœ¨ä¿æŒ
 frustum åºåˆ—é•¿åº¦ä¸å˜çš„å‰æä¸‹ï¼Œå°†æ‹¼æ¥åçš„é«˜ç»´ç‰¹å¾å‹ç¼©åˆ°æŒ‡å®šçš„
é€šé“æ•°ã€‚é€šå¸¸æ¥åœ¨å¤šå°ºåº¦ç‰¹å¾èåˆï¼ˆç®—å­ 11ï¼‰ä¹‹åï¼Œæ˜¯ F-ConvNet ä¸­
 FCN éƒ¨åˆ†é€šå¾€æ£€æµ‹å¤´ï¼ˆCLS/REGï¼‰çš„å…³é”®æ¡¥æ¥å±‚ã€‚</p>
<hr />
<p>### ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰
 1. <strong>Conv1d C_in â†’ C_out, kernel_size=1, stride=1, padding=0</strong>
    - å¯¹æ¯ä¸ª frustum ä½ç½®åšé€šé“ç»´çº¿æ€§å˜æ¢
 2. <strong>(å¯é€‰) BatchNorm1d</strong>
 3. <strong>(å¯é€‰) ReLU æ¿€æ´»</strong>
    - æ˜¯å¦ä½¿ç”¨ BN/æ¿€æ´»ç”±åˆå§‹åŒ–å‚æ•°æ§åˆ¶</p>
<hr />
<p>### è¾“å…¥
 Args:
     x (torch.Tensor):
         Frustum åºåˆ—ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_in, L)ï¼š
         - B: batch size
         - C_in: è¾“å…¥é€šé“æ•°ï¼ˆå¦‚å¤šå°ºåº¦ concat åçš„é€šé“æ•°ï¼‰
         - L: frustum åºåˆ—é•¿åº¦</p>
<hr />
<p>### è¾“å‡º
 Returns:
     torch.Tensor:
         é€šé“å‹ç¼©åçš„ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_out, L)ã€‚</p>
<hr />
<p>### æ¨¡å—ç”¨é€”
 - å°†å¤šå°ºåº¦æ‹¼æ¥åçš„é«˜ç»´ç‰¹å¾å‹ç¼©åˆ°ç›®æ ‡é€šé“æ•°
 - ä½œä¸º FCN è¾“å‡ºç‰¹å¾ä¸åç»­æ£€æµ‹å¤´ä¹‹é—´çš„æ¥å£å±‚
 - ä¹Ÿå¯ç”¨äºä»»æ„éœ€è¦ 1Ã—1 Conv é€šé“æ˜ å°„çš„ frustum åºåˆ—åœºæ™¯</p>

              <details class="quote">
                <summary>Source code in <code>Frustum_FCN_Processing\network\ChannelReduce1x1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ChannelReduce1x1</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ChannelReduce1x1 æ¨¡å—ï¼ˆFrustum å¤šå°ºåº¦ç‰¹å¾é€šé“å‹ç¼©ç®—å­ï¼‰ã€‚</span>

<span class="sd">    è¯¥æ¨¡å—é€šè¿‡ 1Ã—1 çš„ Conv1d å®ç°é€šé“ç»´åº¦çš„çº¿æ€§æ˜ å°„ï¼Œç”¨äºåœ¨ä¿æŒ</span>
<span class="sd">    frustum åºåˆ—é•¿åº¦ä¸å˜çš„å‰æä¸‹ï¼Œå°†æ‹¼æ¥åçš„é«˜ç»´ç‰¹å¾å‹ç¼©åˆ°æŒ‡å®šçš„</span>
<span class="sd">   é€šé“æ•°ã€‚é€šå¸¸æ¥åœ¨å¤šå°ºåº¦ç‰¹å¾èåˆï¼ˆç®—å­ 11ï¼‰ä¹‹åï¼Œæ˜¯ F-ConvNet ä¸­</span>
<span class="sd">    FCN éƒ¨åˆ†é€šå¾€æ£€æµ‹å¤´ï¼ˆCLS/REGï¼‰çš„å…³é”®æ¡¥æ¥å±‚ã€‚</span>

<span class="sd">    ---</span>
<span class="sd">    ### ç»“æ„è¯´æ˜ï¼ˆæŒ‰é¡ºåºï¼‰</span>
<span class="sd">    1. **Conv1d C_in â†’ C_out, kernel_size=1, stride=1, padding=0**</span>
<span class="sd">       - å¯¹æ¯ä¸ª frustum ä½ç½®åšé€šé“ç»´çº¿æ€§å˜æ¢</span>
<span class="sd">    2. **(å¯é€‰) BatchNorm1d**</span>
<span class="sd">    3. **(å¯é€‰) ReLU æ¿€æ´»**</span>
<span class="sd">       - æ˜¯å¦ä½¿ç”¨ BN/æ¿€æ´»ç”±åˆå§‹åŒ–å‚æ•°æ§åˆ¶</span>

<span class="sd">    ---</span>
<span class="sd">    ### è¾“å…¥</span>
<span class="sd">    Args:</span>
<span class="sd">        x (torch.Tensor):</span>
<span class="sd">            Frustum åºåˆ—ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_in, L)ï¼š</span>
<span class="sd">            - B: batch size</span>
<span class="sd">            - C_in: è¾“å…¥é€šé“æ•°ï¼ˆå¦‚å¤šå°ºåº¦ concat åçš„é€šé“æ•°ï¼‰</span>
<span class="sd">            - L: frustum åºåˆ—é•¿åº¦</span>

<span class="sd">    ---</span>
<span class="sd">    ### è¾“å‡º</span>
<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor:</span>
<span class="sd">            é€šé“å‹ç¼©åçš„ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_out, L)ã€‚</span>

<span class="sd">    ---</span>
<span class="sd">    ### æ¨¡å—ç”¨é€”</span>
<span class="sd">    - å°†å¤šå°ºåº¦æ‹¼æ¥åçš„é«˜ç»´ç‰¹å¾å‹ç¼©åˆ°ç›®æ ‡é€šé“æ•°</span>
<span class="sd">    - ä½œä¸º FCN è¾“å‡ºç‰¹å¾ä¸åç»­æ£€æµ‹å¤´ä¹‹é—´çš„æ¥å£å±‚</span>
<span class="sd">    - ä¹Ÿå¯ç”¨äºä»»æ„éœ€è¦ 1Ã—1 Conv é€šé“æ˜ å°„çš„ frustum åºåˆ—åœºæ™¯</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">in_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">out_channels</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">use_bn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">use_relu</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="n">layers</span> <span class="o">=</span> <span class="p">[</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv1d</span><span class="p">(</span><span class="n">in_channels</span><span class="p">,</span> <span class="n">out_channels</span><span class="p">,</span> <span class="n">kernel_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">0</span><span class="p">)]</span>

        <span class="k">if</span> <span class="n">use_bn</span><span class="p">:</span>
            <span class="n">layers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">BatchNorm1d</span><span class="p">(</span><span class="n">out_channels</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">use_relu</span><span class="p">:</span>
            <span class="n">layers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">net</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Sequential</span><span class="p">(</span><span class="o">*</span><span class="n">layers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">out_channels</span> <span class="o">=</span> <span class="n">out_channels</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        å‰å‘ä¼ æ’­ï¼šå¯¹é€šé“ç»´æ‰§è¡Œ 1Ã—1 å·ç§¯ï¼ˆåŠå¯é€‰ BN/æ¿€æ´»ï¼‰ã€‚</span>

<span class="sd">        Args:</span>
<span class="sd">            x (torch.Tensor): (B, C_in, L)</span>

<span class="sd">        Returns:</span>
<span class="sd">            torch.Tensor: (B, C_out, L)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="Frustum_FCN_Processing.network.ChannelReduce1x1.ChannelReduce1x1.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

<a href="#Frustum_FCN_Processing.network.ChannelReduce1x1.ChannelReduce1x1.forward" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>å‰å‘ä¼ æ’­ï¼šå¯¹é€šé“ç»´æ‰§è¡Œ 1Ã—1 å·ç§¯ï¼ˆåŠå¯é€‰ BN/æ¿€æ´»ï¼‰ã€‚</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(B, C_in, L)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: (B, C_out, L)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>Frustum_FCN_Processing\network\ChannelReduce1x1.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    å‰å‘ä¼ æ’­ï¼šå¯¹é€šé“ç»´æ‰§è¡Œ 1Ã—1 å·ç§¯ï¼ˆåŠå¯é€‰ BN/æ¿€æ´»ï¼‰ã€‚</span>

<span class="sd">    Args:</span>
<span class="sd">        x (torch.Tensor): (B, C_in, L)</span>

<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor: (B, C_out, L)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">net</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><hr />
<h2 id="4-align_and_concat_multiscale">ğŸ“Œ 4. align_and_concat_multiscale<a class="headerlink" href="#4-align_and_concat_multiscale" title="Permanent link">&para;</a></h2>
<p>å°†ä¸åŒå°ºåº¦çš„ç‰¹å¾åœ¨é•¿åº¦ç»´è¿›è¡Œå¯¹é½ï¼Œå¹¶æ²¿é€šé“ç»´è¿›è¡Œæ‹¼æ¥èåˆã€‚</p>


<div class="doc doc-object doc-module">



<a id="Frustum_FCN_Processing.operator.align_and_concat_multiscale"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="Frustum_FCN_Processing.operator.align_and_concat_multiscale.align_and_concat_multiscale" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">align_and_concat_multiscale</span><span class="p">(</span><span class="n">feat_high</span><span class="p">,</span> <span class="n">feat_mid</span><span class="p">,</span> <span class="n">feat_low</span><span class="p">)</span></code>

<a href="#Frustum_FCN_Processing.operator.align_and_concat_multiscale.align_and_concat_multiscale" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>AlignAndConcatMultiscale ç®—å­ï¼ˆFrustum å¤šå°ºåº¦ç‰¹å¾å¯¹é½ä¸çº§è”èåˆï¼‰ã€‚</p>
<p>å¯¹å¤šå°ºåº¦ frustum ç‰¹å¾åœ¨é•¿åº¦ç»´åº¦ä¸Šè¿›è¡Œå¯¹é½ï¼Œå¹¶åœ¨é€šé“ç»´åº¦è¿›è¡Œæ‹¼æ¥ï¼š
    - ä»¥ feat_high çš„é•¿åº¦ L_h ä½œä¸ºåŸºå‡†é•¿åº¦
    - feat_mid / feat_low æŒ‰ç…§ [:, :, :L_h] è¿›è¡Œè£å‰ª
    - æœ€ç»ˆåœ¨é€šé“ç»´ä¸Š cat å¾—åˆ° (B, C_h + C_m + C_l, L_h)</p>
<p>è¯¥ç®—å­å¯¹åº” F-ConvNet åŸå®ç°ä¸­ ConvFeatNet çš„å¤šå°ºåº¦èåˆæ­¥éª¤ï¼š
    x = torch.cat([xx1,
                   xx2[:, :, :xx1.shape[-1]],
                   xx3[:, :, :xx1.shape[-1]]], 1)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>feat_high</code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>é«˜åˆ†è¾¨ç‡ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_h, L_h)ã€‚</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>feat_mid</code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ä¸­ç­‰åˆ†è¾¨ç‡ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_m, L_m)ã€‚</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>feat_low</code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ä½åˆ†è¾¨ç‡ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_l, L_l)ã€‚</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: èåˆåçš„å¤šå°ºåº¦ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_h + C_m + C_l, L_h)ã€‚</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>Frustum_FCN_Processing\operator\align_and_concat_multiscale.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@torch</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">custom_op</span><span class="p">(</span><span class="s2">&quot;frustum_ops::align_and_concat_multiscale&quot;</span><span class="p">,</span> <span class="n">mutates_args</span><span class="o">=</span><span class="p">[])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">align_and_concat_multiscale</span><span class="p">(</span>
    <span class="n">feat_high</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">,</span>
    <span class="n">feat_mid</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">,</span>
    <span class="n">feat_low</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    AlignAndConcatMultiscale ç®—å­ï¼ˆFrustum å¤šå°ºåº¦ç‰¹å¾å¯¹é½ä¸çº§è”èåˆï¼‰ã€‚</span>

<span class="sd">    å¯¹å¤šå°ºåº¦ frustum ç‰¹å¾åœ¨é•¿åº¦ç»´åº¦ä¸Šè¿›è¡Œå¯¹é½ï¼Œå¹¶åœ¨é€šé“ç»´åº¦è¿›è¡Œæ‹¼æ¥ï¼š</span>
<span class="sd">        - ä»¥ feat_high çš„é•¿åº¦ L_h ä½œä¸ºåŸºå‡†é•¿åº¦</span>
<span class="sd">        - feat_mid / feat_low æŒ‰ç…§ [:, :, :L_h] è¿›è¡Œè£å‰ª</span>
<span class="sd">        - æœ€ç»ˆåœ¨é€šé“ç»´ä¸Š cat å¾—åˆ° (B, C_h + C_m + C_l, L_h)</span>

<span class="sd">    è¯¥ç®—å­å¯¹åº” F-ConvNet åŸå®ç°ä¸­ ConvFeatNet çš„å¤šå°ºåº¦èåˆæ­¥éª¤ï¼š</span>
<span class="sd">        x = torch.cat([xx1,</span>
<span class="sd">                       xx2[:, :, :xx1.shape[-1]],</span>
<span class="sd">                       xx3[:, :, :xx1.shape[-1]]], 1)</span>

<span class="sd">    Args:</span>
<span class="sd">        feat_high (torch.Tensor): é«˜åˆ†è¾¨ç‡ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_h, L_h)ã€‚</span>
<span class="sd">        feat_mid (torch.Tensor): ä¸­ç­‰åˆ†è¾¨ç‡ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_m, L_m)ã€‚</span>
<span class="sd">        feat_low (torch.Tensor): ä½åˆ†è¾¨ç‡ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_l, L_l)ã€‚</span>

<span class="sd">    Returns:</span>
<span class="sd">        torch.Tensor: èåˆåçš„å¤šå°ºåº¦ç‰¹å¾ï¼Œå½¢çŠ¶ (B, C_h + C_m + C_l, L_h)ã€‚</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">feat_high</span><span class="o">.</span><span class="n">dim</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">feat_mid</span><span class="o">.</span><span class="n">dim</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">feat_low</span><span class="o">.</span><span class="n">dim</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> \
        <span class="s2">&quot;All inputs must be 3D tensors of shape (B, C, L).&quot;</span>

    <span class="n">B_h</span><span class="p">,</span> <span class="n">C_h</span><span class="p">,</span> <span class="n">L_h</span> <span class="o">=</span> <span class="n">feat_high</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">B_m</span><span class="p">,</span> <span class="n">C_m</span><span class="p">,</span> <span class="n">L_m</span> <span class="o">=</span> <span class="n">feat_mid</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">B_l</span><span class="p">,</span> <span class="n">C_l</span><span class="p">,</span> <span class="n">L_l</span> <span class="o">=</span> <span class="n">feat_low</span><span class="o">.</span><span class="n">shape</span>

    <span class="k">assert</span> <span class="n">B_h</span> <span class="o">==</span> <span class="n">B_m</span> <span class="o">==</span> <span class="n">B_l</span><span class="p">,</span> <span class="s2">&quot;Batch size of all feature maps must match.&quot;</span>

    <span class="c1"># åœ¨é•¿åº¦ç»´åº¦ä¸Šå¯¹é½åˆ° L_h</span>
    <span class="n">feat_mid_aligned</span> <span class="o">=</span> <span class="n">feat_mid</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:</span><span class="n">L_h</span><span class="p">]</span>
    <span class="n">feat_low_aligned</span> <span class="o">=</span> <span class="n">feat_low</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:</span><span class="n">L_h</span><span class="p">]</span>

    <span class="c1"># é€šé“ç»´æ‹¼æ¥</span>
    <span class="n">fused</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">feat_high</span><span class="p">,</span> <span class="n">feat_mid_aligned</span><span class="p">,</span> <span class="n">feat_low_aligned</span><span class="p">],</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fused</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="_1">â–¶ ä¸‹ä¸€éƒ¨åˆ†<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>è¿›å…¥ï¼š<br />
<a href="../framework_overview/"><strong>F-ConvNet Pipeline æ€»æ¡†æ¶</strong></a></p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  å›åˆ°é¡µé¢é¡¶éƒ¨
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections", "navigation.top", "toc.integrate", "content.code.copy", "content.tabs.link"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>